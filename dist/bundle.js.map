{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/js/graph2.js","webpack:///./dist/js/map.js","webpack:///./dist/main.js"],"names":["paint","city","dims2","height","width","radius","cent2","x","y","svg2","d3","select","append","attr","graph2","pie2","pie","sort","a","b","descending","rank","value","d","arcPath2","arc","outerRadius","innerRadius","color2","scaleOrdinal","legendGroup2","legend2","legendColor","shape","shapePadding","scale","tip2","tip","html","content","data","cityName","destination","countryName","call","update2","domain","map","selectAll","paths2","exit","transition","duration","attrTween","arcTweenExit2","remove","arcTweenUpdate","enter","each","_current","arcTweenEnter2","on","i","n","show","handleMouseOver2","hide","handleMouseOut2","db","collection","doc","onSnapshot","res","docChanges","forEach","change","id","type","push","index","findIndex","item","filter","interpolate","endAngle","startAngle","t","svg","unemployment","path","geoPath","scaleLinear","rangeRound","color","scaleThreshold","range","schemeBlues","g","invertExtent","promises","json","tsv","set","rate","Promise","all","then","ready","error","console","log","us","topojson","feature","objects","counties","features","get","text","datum","mesh","states","document","addEventListener","sfo","querySelector","nyc","aus","atl","mia","canvas","getElementById","title","e","innerHTML"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./dist/main.js\");\n","const paint = (city) => {\n\nconst dims2 = { height: 300, width: 300, radius: 150 };\nconst cent2 = { x: dims2.width / 2 + 5, y: dims2.width / 2 + 5 };\n\nconst svg2 = d3\n  .select(\".canvas2\")\n  .append(\"svg\")\n  .attr(\"width\", dims2.width + 150)\n  .attr(\"height\", dims2.height + 150);\n\nconst graph2 = svg2\n  .append(\"g\")\n  .attr(\"transform\", `translate(${cent2.x}, ${cent2.y})`);\n\nconst pie2 = d3\n  .pie()\n  // .sort(null)\n  .sort((a, b) => d3.descending(a.rank, b.rank))\n  .value(d => 100);\n\n// const angles2 = pie2([\n//     { cityName: 'rent', destination: 500 },\n//     { cityName: 'bills', destination: 300 },\n//     { cityName: 'gaming', destination: 200 }\n// ]);\n\nconst arcPath2 = d3\n  .arc()\n  .outerRadius(dims2.radius)\n  .innerRadius(dims2.radius / 2);\n\nconst color2 = d3.scaleOrdinal(d3[\"schemeSet3\"]);\n\n// legend2 setup\n\nconst legendGroup2 = svg2\n  .append(\"g\")\n  .attr(\"transform\", `translate(${dims2.width + 40}, 10)`);\n\nconst legend2 = d3\n  .legendColor()\n  .shape(\"circle\")\n  .shapePadding(10)\n  .scale(color2);\n\nconst tip2 = d3\n  .tip()\n  .attr(\"class\", \"tip2 card\")\n  .html(d => {\n    let content = `<div class=\"cityName rank\"># ${d.data.rank}</div>`;\n    content += `<div class=\"destination\">${d.data.cityName} (${d.data.destination})</div>`;\n    content += `<div class=\"destination\">${d.data.countryName}</div>`;\n    return content;\n  });\n\ngraph2.call(tip2);\n\n// update2 function\n\nconst update2 = data => {\n  color2.domain(data.map(d => d.cityName));\n\n  // update2 and call legend2\n\n  legendGroup2.call(legend2);\n  legendGroup2.selectAll(\"text\").attr(\"fill\", \"white\");\n\n  // join enhanced (pie2) data to path elements\n\n  const paths2 = graph2.selectAll(\"path\").data(pie2(data));\n\n  paths2\n    .exit()\n    .transition()\n    .duration(750)\n    .attrTween(\"d\", arcTweenExit2)\n    .remove();\n\n  // handles the current DOM path updates\n  paths2\n    .attr(\"d\", arcPath2)\n    .transition()\n    .duration(750)\n    .attrTween(\"d\", arcTweenUpdate);\n\n  paths2\n    .enter()\n    .append(\"path\")\n    .attr(\"class\", \"arc\")\n    // .attr('d', arcPath2)\n    .attr(\"stroke\", \"#fff\")\n    .attr(\"stroke-width\", 3)\n    .attr(\"fill\", d => color2(d.data.cityName))\n    .each(function(d) {\n      this._current = d;\n    })\n    .transition()\n    .duration(750)\n    .attrTween(\"d\", arcTweenEnter2);\n\n  graph2\n    .selectAll(\"path\")\n    .on(\"mouseover\", (d, i, n) => {\n      tip2.show(d, n[i]);\n      handleMouseOver2(d, i, n);\n    })\n    .on(\"mouseout\", (d, i, n) => {\n      tip2.hide();\n      handleMouseOut2(d, i, n);\n    })\n    // .on(\"click\", handleClick);\n};\n\n// // add events\n\n// // data array and firestore\n\nvar data = [];\n\ndb.collection(\"cities\")\n  .doc(city)\n  .collection(\"flights\")\n  .onSnapshot(res => {\n    res.docChanges().forEach(change => {\n      const doc = { ...change.doc.data(), id: change.doc.id };\n\n      switch (change.type) {\n        case \"added\":\n          data.push(doc);\n          break;\n        case \"modified\":\n          const index = data.findIndex(item => item.id == doc.id);\n          data[index] = doc;\n          break;\n        case \"removed\":\n          data = data.filter(item => item.id !== doc.id);\n          break;\n        default:\n          break;\n      }\n    });\n\n    update2(data);\n  });\n\n// db.collection(\"cities\")\n//   .doc(\"EXMrIeJ31m7m8M3klVPb\")\n//   .collection(\"flights\")\n//   .onSnapshot(res => {\n//     res.docChanges().forEach(change => {\n//       const doc = { ...change.doc.data(), id: change.doc.id };\n\n//       switch (change.type) {\n//         case \"added\":\n//           data.push(doc);\n//           break;\n//         case \"modified\":\n//           const index = data.findIndex(item => item.id == doc.id);\n//           data[index] = doc;\n//           break;\n//         case \"removed\":\n//           data = data.filter(item => item.id !== doc.id);\n//           break;\n//         default:\n//           break;\n//       }\n//     });\n\n//     update2(data);\n//   });\n\nconst arcTweenEnter2 = d => {\n  let i = d3.interpolate(d.endAngle, d.startAngle);\n\n  return function(t) {\n    d.startAngle = i(t);\n    return arcPath2(d);\n  };\n};\n\nconst arcTweenExit2 = d => {\n  let i = d3.interpolate(d.startAngle, d.endAngle);\n\n  return function(t) {\n    d.startAngle = i(t);\n    return arcPath2(d);\n  };\n};\n\n// use function keyword to allow use of 'this'\nfunction arcTweenUpdate(d) {\n  // interpolate between the two objects\n  let i = d3.interpolate(this._current, d);\n  // update2 the current prop with updated data\n  this._current = i(1);\n\n  return function(t) {\n    return arcPath2(i(t));\n  };\n}\n\nconst handleMouseOver2 = (d, i, n) => {\n  // console.log(n[i]);\n  d3.select(n[i])\n    .transition(\"changeSliceFill\")\n    .duration(300)\n    .attr(\"fill\", \"#454545\")\n    .attr(\"stroke\", \"#4C9AFF\")\n    .attr(\"stroke-width\", \"5.5\");\n};\n\nconst handleMouseOut2 = (d, i, n) => {\n  d3.select(n[i])\n    .transition(\"changeSliceFill\")\n    .duration(300)\n    .attr(\"fill\", color2(d.data.cityName))\n    .attr(\"stroke\", \"white\")\n    .attr(\"stroke-width\", \"3\");\n};\n\n}\n\nexport default paint;","const map = () => {\nvar svg = d3.select(\"#map-svg\"),\n    width = +svg.attr(\"width\"),\n    height = +svg.attr(\"height\");\n\nvar unemployment = d3.map();\n\nvar path = d3.geoPath();\n\nvar x = d3.scaleLinear()\n    .domain([1, 10])\n    .rangeRound([600, 860]);\n\nvar color = d3.scaleThreshold()\n    .domain(d3.range(2, 10))\n    .range(d3.schemeBlues[9]);\n\nvar g = svg.append(\"g\")\n    .attr(\"class\", \"key\")\n    .attr(\"transform\", \"translate(0,40)\");\n\ng.selectAll(\"rect\")\n    .data(color.range().map(function (d) {\n        d = color.invertExtent(d);\n        if (d[0] == null) d[0] = x.domain()[0];\n        if (d[1] == null) d[1] = x.domain()[1];\n        return d;\n    }))\n    .enter()\n    // .append(\"rect\")\n    // .attr(\"height\", 8)\n    // .attr(\"x\", function (d) { return x(d[0]); })\n    // .attr(\"width\", function (d) { return x(d[1]) - x(d[0]); })\n    // .attr(\"fill\", function (d) { return color(d[0]); });\n\n// g.append(\"text\")\n//     .attr(\"class\", \"caption\")\n//     .attr(\"x\", x.range()[0])\n//     .attr(\"y\", -6)\n//     .attr(\"fill\", \"#000\")\n//     .attr(\"text-anchor\", \"start\")\n//     .attr(\"font-weight\", \"bold\")\n//     .text(\"Unemployment rate\");\n\n// g.call(d3.axisBottom(x)\n//     .tickSize(13)\n//     .tickFormat(function (x, i) { return i ? x : x + \"%\"; })\n//     .tickValues(color.domain()))\n//     .select(\".domain\")\n//     .remove();\n\n/*  \n    Before V5\n    d3.queue()\n        .defer(d3.json, \"https://d3js.org/us-10m.v1.json\")\n        .defer(d3.tsv, \"data/map.tsv\", function(d) { unemployment.set(d.id, +d.rate); })\n        .await(ready);\n*/\n\nvar promises = [\n    d3.json(\"https://d3js.org/us-10m.v1.json\"),\n    d3.tsv(\"data/map.tsv\", function (d) { unemployment.set(d.id, +d.rate); })\n]\n\nPromise.all(promises).then(function (data) {\n    ready(data[0]);\n}).catch(function (error) {\n    console.log(error);\n});\n\nfunction ready(us) {\n    svg.append(\"g\")\n        .attr(\"class\", \"counties\")\n        .selectAll(\"path\")\n        .data(topojson.feature(us, us.objects.counties).features)\n        .enter().append(\"path\")\n        .attr(\"fill\", function (d) { return color(d.rate = unemployment.get(d.id)); })\n        .attr('fill', 'gray')\n        .attr(\"d\", path)\n        .attr('id', d => d.id)\n        .append(\"title\")\n        .text(function (d) { return d.rate + \"%\"; });\n\n    svg.append(\"path\")\n        .datum(topojson.mesh(us, us.objects.states, function (a, b) { return a !== b; }))\n        .attr(\"class\", \"states\")\n        .attr(\"d\", path);\n}\n}\n\nexport default map;","import map from './js/map';\nimport paint from './js/graph2';\n// const paint = require('./js/graph2');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    map();\n    let city;\n    const sfo = document.querySelector(\"#sfo\");\n    const nyc = document.querySelector(\"#nyc\");\n    const aus = document.querySelector(\"#aus\");\n    const atl = document.querySelector(\"#atl\");\n    const mia = document.querySelector(\"#mia\");\n    const canvas = document.getElementById('canvas2');\n    const title = d3.select('#city-title');\n\n    sfo.addEventListener(\"click\", e => {\n        canvas.innerHTML = '';\n        document.getElementById('city-title').innerHTML = '';\n      city = \"EXMrIeJ31m7m8M3klVPb\";\n      paint(city);\n      title\n        .append('h4')\n        .attr('class', 'white-text center')\n        .attr('id', 'title-text')\n        .text('San Francisco');\n    });\n\n    nyc.addEventListener(\"click\", e => {\n        canvas.innerHTML = \"\";\n        document.getElementById(\"city-title\").innerHTML = \"\";\n      city = \"sjlu4Jl9vfR0UlkSurb4\";\n      paint(city);\n      title\n        .append(\"h4\")\n        .attr(\"class\", \"white-text center\")\n        .attr(\"id\", \"title-text\")\n        .text(\"New York\");\n    });\n\n    aus.addEventListener(\"click\", e => {\n        canvas.innerHTML = \"\";\n        document.getElementById(\"city-title\").innerHTML = \"\";\n      city = \"a5BSMlROZWzptY4J7KOp\";\n      paint(city);\n      title\n        .append(\"h4\")\n        .attr(\"class\", \"white-text center\")\n        .attr(\"id\", \"title-text\")\n        .text(\"Austin\");\n    });\n\n    atl.addEventListener(\"click\", e => {\n        canvas.innerHTML = \"\";\n        document.getElementById(\"city-title\").innerHTML = \"\";\n      city = \"LVC2svErstG9XVxvSw5R\";\n      paint(city);\n      title\n        .append(\"h4\")\n        .attr(\"class\", \"white-text center\")\n        .attr(\"id\", \"title-text\")\n        .text(\"Atlanta\");\n    });\n\n    mia.addEventListener(\"click\", e => {\n      canvas.innerHTML = \"\";\n      document.getElementById(\"city-title\").innerHTML = \"\";\n      city = \"YooRLjf1UgSydWkiyNtF\";\n      paint(city);\n      title\n        .append(\"h4\")\n        .attr(\"class\", \"white-text center\")\n        .attr(\"id\", \"title-text\")\n        .text(\"Miami\");\n    });\n})"],"sourceRoot":""}